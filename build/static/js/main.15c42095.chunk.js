(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,function(e,t,a){},,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(3),o=a.n(n);a(9),a(10),a(2);const c=()=>r.a.createElement("div",{style:{width:"100%",padding:"2%",backgroundColor:"#3498db",color:"white",textAlign:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",borderRadius:"10px"}},r.a.createElement("h1",{className:"header-text"},"React With NodeJS")),s=e=>{let{numberOfMovies:t,getAllMovies:a}=e;return r.a.createElement("div",{style:{backgroundColor:"#87CEFA"},className:"display-board"},r.a.createElement("h4",{style:{color:"white",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)"}},"Movies Created"),r.a.createElement("div",{className:"stroke linear-hstripes rainbow-text"},t),r.a.createElement("div",{className:"btn"},r.a.createElement("button",{type:"button",onClick:e=>a(),className:"btn btn-warning"},"Get all Movies")))},m=e=>{let{movies:t}=e;const[a,n]=Object(l.useState)(""),[o,c]=Object(l.useState)([]),[s,m]=Object(l.useState)(!1);if(0===t.length)return null;const i=(e,t)=>r.a.createElement("tr",{key:t,className:t%2===0?"odd":"even"},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.genre),r.a.createElement("td",null,e.director),r.a.createElement("td",null,e.release_year)),d=s?o.map((e,t)=>i(e,t)):t.map((e,t)=>i(e,t));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("h2",null,"Movies"),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{type:"text",className:"Search_input",style:{padding:"10px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"5px",width:"300px",marginRight:"10px"},placeholder:"Enter The Title Of Movie",value:a,onChange:e=>n(e.target.value)}),r.a.createElement("button",{className:"btn btn-warning",style:{padding:"10px",borderRadius:"5px"},onClick:async()=>{try{const e=await fetch("http://api.se-rmutl.net/api/movie/search?search_text=".concat(a)),t=await e.json();1===t.returnCode?(c(t.data),m(!0)):(c([]),m(!1))}catch(e){console.error("Error searching for movies:",e)}}},"Search")))),r.a.createElement("hr",null),r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",{className:"table-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Movie Id"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Genre"),r.a.createElement("th",null,"Director"),r.a.createElement("th",null,"Release"))),r.a.createElement("tbody",null,d,s&&0===o.length&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5"},"No movies found")))))};var i=e=>{let{onChangeForm:t,createMovie:a}=e;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-7 mrgnbtm"},r.a.createElement("h2",null,"Create Movie"),r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Title"),r.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"movies_title",id:"movies_title","aria-describedby":"emailHelp",placeholder:"Movies Title"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Genre"),r.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"movies_genre",id:"movies_genre",placeholder:"Genre"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Director"),r.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"movies_director",id:"movies_director","aria-describedby":"emailHelp",placeholder:"Director"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Release_year"),r.a.createElement("input",{type:"text",onChange:e=>t(e),className:"form-control",name:"movies_release",id:"movies_release","aria-describedby":"emailHelp",placeholder:"Release"}))),r.a.createElement("button",{type:"button",onClick:e=>a(),className:"btn btn-success"},"Create")))))};async function d(){try{const e=await fetch("http://localhost:4000/api/movie/all");return await e.json()}catch(e){return[]}}var u=function(){const[e,t]=Object(l.useState)({}),[a,n]=Object(l.useState)([]),[o,u]=Object(l.useState)(0);return Object(l.useEffect)(()=>{d().then(e=>{console.log(e),n(e),u(e.length)})},[]),r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement("div",{className:"container mrgnbtm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(i,{movie:e,onChangeForm:a=>{"movies_title"===a.target.name?e.title=a.target.value:"movies_genre"===a.target.name?e.genre=a.target.value:"movies_director"===a.target.name?e.director=a.target.value:"movies_release"===a.target.name&&(e.release_year=a.target.value),t(e)},createMovie:t=>{(async function(e){const t=await fetch("http://localhost:4000/api/movie/insert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e})});return await t.json()})(e).then(e=>{console.log(e),u(o+1)})}})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(s,{numberOfMovies:o,getAllMovies:()=>{d().then(e=>{console.log(e),n(e),u(e.length)})}})),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row mrgnbtm"},r.a.createElement(m,{movies:a}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const h=()=>r.a.createElement("h1",null,"Something went wrong");class p extends r.a.Component{constructor(){super(...arguments),this.state={hasError:!1},this.componentDidCatch=(e,t)=>{this.setState({error:e,info:t})}}render(){const{hasError:e}=this.state,{children:t}=this.props;return e?r.a.createElement(h,null):t}}p.getDerivedStateFromError=e=>({hasError:!0}),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null,r.a.createElement(u,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}],[[4,1,2]]]);
//# sourceMappingURL=main.15c42095.chunk.js.map